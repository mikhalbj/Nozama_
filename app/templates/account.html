{% extends "base.html" %}

{% block content %}

<br><br>

<div class="col-lg-8 mx-auto">
    <header class="d-flex align-items-center pb-3 mb-3"><h2>Your Account</h2></header>

    
    <div class="row">
        <div class="col-sm-6">
          
        <div class="card">
            <div class="card-body">
              <h4 class="card-title">Balance</h4>
              <p class="card-text"><h1>${{account.balance}}</h1></p>
              
              <ul class="list-group list-group-horizontal nav nav-pills">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="#">Deposit</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Withdraw</a>
                </li>
              </ul>
            </div>
          </div>
        </div>


        <div class="col-sm-6">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">Personal Information</h4>
              <ul class="list-group list-group-flush">
                <li class="list-group-item"><span class="text-muted">Name: </span>{{user.firstname}} {{user.lastname}}</li>
                <li class="list-group-item"><span class="text-muted">Email: </span>{{user.email}}</li>
                <li class="list-group-item"><span class="text-muted">Account #: </span>{{user.id}}</li>
                <li class="list-group-item"><span class="text-muted">Address: </span>{{user.address}}</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Vendor Information</h4>
                <container>
                    <div class="row g-4 pt-3">
                        <div class="col-5"><button type="button" class="btn btn-outline-primary">Become a vendor</button></div>
                        <div class="col-5"><button type="button" class="btn btn-outline-secondary" disabled>View public profile</button></div>
                    </div>
                </container>
              </div>
            </div>
          </div>
    </div>

    <header class="d-flex align-items-center pb-3 mb-3 mt-5"><h2>Your Orders</h2></header>



    <div class="row row-cols-1 g-4">
        <div class="col">


        {% for order in account.orders%}
            <div class="card mb-4">
                <div class="card-header">
                    <div class="container">
                        <div class="row">
                            <div class="col float-left"><small class="text-muted">ORDER PLACED</small></div>
                            <div class="col"><small class="text-muted">TOTAL</small></div>
                            <div class="col-8"><small class="text-muted float-end">Order #: <a href="/order/{{order.id}}" class="link-unstyled" style="text-decoration: underline;">{{order.id}}</a></small></div>
                        </div>
                        <div class="row">
                            <div class="col float-left"><small class="text-muted">{{order.placed_at.strftime("%B %d, %Y")}}</small></div>
                            <div class="col"><small class="text-muted">${{order.cost}}</small></div>
                            <div class="col-8"></div>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                <h5 class="card-title pb-2">Order Products <span class="badge bg-secondary">Shipped</span></h5>
                
                <div class="container">
                    <div class="row pb-2">
                        <div class="col-md-2 float-left">
                            <img src="https://www.pixsy.com/wp-content/uploads/2021/04/ben-sweet-2LowviVHZ-E-unsplash-1.jpeg" class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-10">
                            <div class="container">
                                <div class="row"><div class="col float-left">Product Name <span class="badge bg-success">Delivered</span></div></div>
                                <div class="row"><div class="col float-left"><small class="text-muted">Vendor</small></div></div>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-md-2 float-left">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFU7U2h0umyF0P6E_yhTX45sGgPEQAbGaJ4g&usqp=CAU" class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-10">
                            <div class="container">
                                <div class="row"><div class="col float-left">Product Name <span class="badge bg-secondary">Shipped</span></div></div>
                                <div class="row"><div class="col float-left"><small class="text-muted">Vendor</small></div></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            </div>
        {% endfor %}
    
        
          



        <div class="card mb-4">
            <div class="card-header">
                <div class="container">
                    <div class="row">
                        <div class="col float-left"><small class="text-muted">ORDER PLACED</small></div>
                        <div class="col"><small class="text-muted">TOTAL</small></div>
                        <div class="col-8"><small class="text-muted float-end">Order #: 1294-23423423-23423</small></div>
                    </div>
                    <div class="row">
                        <div class="col float-left"><small class="text-muted">March 12, 2021</small></div>
                        <div class="col"><small class="text-muted">$37.81</small></div>
                        <div class="col-8"></div>
                    </div>
                </div>
            </div>
            <div class="card-body">
              <h5 class="card-title pb-2">Order Products <span class="badge bg-secondary">Shipped</span></h5>
              
              <div class="container">
                <div class="row pb-2">
                    <div class="col-md-2 float-left">
                        <img src="https://www.pixsy.com/wp-content/uploads/2021/04/ben-sweet-2LowviVHZ-E-unsplash-1.jpeg" class="img-fluid rounded-start" alt="...">
                    </div>
                    <div class="col-md-10">
                        <div class="container">
                            <div class="row"><div class="col float-left">Product Name <span class="badge bg-success">Delivered</span></div></div>
                            <div class="row"><div class="col float-left"><small class="text-muted">Vendor</small></div></div>
                        </div>
                    </div>
                </div>
                <div class="row pb-2">
                    <div class="col-md-2 float-left">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFU7U2h0umyF0P6E_yhTX45sGgPEQAbGaJ4g&usqp=CAU" class="img-fluid rounded-start" alt="...">
                    </div>
                    <div class="col-md-10">
                        <div class="container">
                            <div class="row"><div class="col float-left">Product Name <span class="badge bg-secondary">Shipped</span></div></div>
                            <div class="row"><div class="col float-left"><small class="text-muted">Vendor</small></div></div>
                        </div>
                    </div>
                </div>
            </div>

          </div>
        </div>




        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
              <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
        </nav>



        </div>
        

</div>

<!-- 
{% if current_user.is_authenticated %}
<h2>Your recent purchases:</h2>
<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Purchase ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Price</th>
    </tr>
  </thead>
  <tbody>
    {% for purchase in purchase_history%}
      <tr>
        <th scope="row">{{purchase.id}}</th>
        <td>{{purchase.pid}}</td>
        <td>{{purchase.time_purchased}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Oops! Looks like you're not logged in. <a href="{{ url_for('users.login') }}">Log in</a> to see your purchase history!</p>
{% endif %} -->

{% endblock %}
